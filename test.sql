select "d0"."id" as "id", "d0"."name" as "name", "d0"."createdAt" as "createdAt", "d0"."updatedAt" as "updatedAt", "posts"."r" as "posts" from "Category" as "d0" left join lateral(select coalesce(json_agg(row_to_json("t".*)), '[]') as "r" from (select "d1"."id" as "id", "d1"."published" as "published", "d1"."title" as "title", "d1"."content" as "content", "d1"."authorId" as "authorId", "d1"."createdAt" as "createdAt", "d1"."updatedAt" as "updatedAt", "d1"."publishedAt" as "publishedAt", (count(*)) as "count" from "Post" as "d1" inner join "PostToCategory" as "tr0" on "tr0"."postId" = "d1"."id" where "d0"."id" = "tr0"."categoryId") as "t") as "posts" on true
